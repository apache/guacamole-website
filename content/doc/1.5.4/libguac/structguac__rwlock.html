<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libguac: guac_rwlock Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libguac<span id="projectnumber">&#160;1.5.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">guac_rwlock Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file implements reentrant read-write locks using thread-local storage to keep track of how locks are held and released by the current thread, since the pthread locks do not support reentrant behavior.  
 <a href="structguac__rwlock.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rwlock_8h_source.html">rwlock.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a46e78bee8a7478579a79efdf1f6e6c15"><td class="memItemLeft" align="right" valign="top"><a id="a46e78bee8a7478579a79efdf1f6e6c15" name="a46e78bee8a7478579a79efdf1f6e6c15"></a>
pthread_rwlock_t&#160;</td><td class="memItemRight" valign="bottom"><b>lock</b></td></tr>
<tr class="memdesc:a46e78bee8a7478579a79efdf1f6e6c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">A non-reentrant pthread rwlock to be wrapped by the local lock, functions providing reentrant behavior. <br /></td></tr>
<tr class="separator:a46e78bee8a7478579a79efdf1f6e6c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a3bbe2eeaa51fb9c955dff2e4fbefb"><td class="memItemLeft" align="right" valign="top"><a id="af2a3bbe2eeaa51fb9c955dff2e4fbefb" name="af2a3bbe2eeaa51fb9c955dff2e4fbefb"></a>
pthread_key_t&#160;</td><td class="memItemRight" valign="bottom"><b>key</b></td></tr>
<tr class="memdesc:af2a3bbe2eeaa51fb9c955dff2e4fbefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A key to access a thread-local property tracking any ownership of the lock by the current thread. <br /></td></tr>
<tr class="separator:af2a3bbe2eeaa51fb9c955dff2e4fbefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements reentrant read-write locks using thread-local storage to keep track of how locks are held and released by the current thread, since the pthread locks do not support reentrant behavior. </p>
<p>A thread will attempt to acquire the requested lock on the first acquire function call, and will release it once the number of unlock requests matches the number of lock requests. Therefore, it is safe to aquire a lock and then call a function that also acquires the same lock, provided that the caller and the callee request to unlock the lock when done with it.</p>
<p>Any lock that's locked using one of the functions defined in this file must <em>only</em> be unlocked using the unlock function defined here to avoid unexpected behavior. A structure packaging together a pthread rwlock along with a key to a thread-local property to keep track of the current status of the lock, allowing the functions defined in this header to provide reentrant behavior. Note that both the lock and key must be initialized before being provided to any of these functions. </p>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>guacamole/<a class="el" href="rwlock_8h_source.html">rwlock.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
